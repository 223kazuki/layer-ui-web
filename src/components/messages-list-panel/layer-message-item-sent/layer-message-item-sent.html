<template>
  <style>
    layer-message-item-sent {
      display: flex;
      flex-direction: column;
      align-content: stretch;
    }

    /* Twemoji */
    layer-message-item-sent img.emoji {
      margin: 0 .05em 0 .1em;
      vertical-align: -0.1em;
    }

    layer-message-item-sent .layer-list-item {
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }

    layer-message-item-sent .layer-message-row {
      display: flex;
      flex-direction: row;
      align-items: flex-end;
      flex-grow: 1;
    }

    layer-message-item-sent .layer-replacable-content {
      display: flex;
      flex-direction: row;
    }

    layer-message-item-sent .layer-message-item-main {
      text-align: right;
      flex-grow: 1;
      overflow: hidden;
    }
    layer-message-item-sent .layer-message-item-main .layer-message-item-content {
      display: inline-block;
      text-align: left;
      max-width: 90%;
    }

    /* Insure that text, images, videos, etc... are all right aligned */
    layer-message-item-sent layer-message-text-plain {
      display: block;
    }

    layer-message-item-sent .layer-message-near-side > div {
      display: flex;
      flex-direction: row;
      align-items: center;
    }
  </style>
  <div class='layer-list-item' layer-id='innerNode'>

    <!-- Header -->
    <div class='layer-message-header' layer-id='headerRow' layer-has-replaceable='true'>
      <div class='layer-replacable-content'></div>
    </div>

    <!-- Body -->
    <div class='layer-message-row' layer-id='messageRow'>

      <!-- Body: Far Side -->
      <div class='layer-message-far-side' layer-id='messageRowFarSide' layer-has-replaceable='true'>
        <div class='layer-replacable-content'></div>
      </div>

      <!-- Body: Message Contents -->
      <div class='layer-message-item-main'>
        <div class='layer-message-item-content' layer-id='content'></div>
      </div>

      <!-- Body: Near Side -->
      <div class='layer-message-near-side' layer-id='messageRowNearSide' layer-has-replaceable='true'>
        <div class='layer-replacable-content'>
          <layer-avatar layer-id='avatar' show-presence='false' size='small'></layer-avatar>
          <layer-menu-button class='layer-templated-menu' layer-id='menuButton'></layer-menu-button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class='layer-message-footer' layer-id='footerRow' layer-has-replaceable='true'>
      <div class='layer-replacable-content'>
        <layer-message-status layer-id='status'></layer-message-status>
        <layer-date layer-id='date' show-year="never" today-format='{"hour": "numeric", "minute": "numeric"}' format='{"hour": "numeric", "minute": "numeric"}'></layer-date>
      </div>
    </div>
  </div>
</template>

<script>
  window.layerUI.registerTemplate('layer-message-item-sent');
</script>
