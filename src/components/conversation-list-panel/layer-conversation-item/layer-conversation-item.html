<template>
  <style>
    layer-conversation-item {
      display: flex;
      flex-direction: column;
    }
    layer-conversation-item .layer-list-item {
      display: flex;
      flex-direction: row;
      align-items: center;
    }
    layer-conversation-item  .layer-list-item .layer-conversation-item-content {
      flex-grow: 1;
      width: 100px; /* Flexbox bug */
    }
    layer-conversation-item .layer-conversation-title-row {
      display: flex;
      flex-direction: row;
    }
    layer-conversation-item .layer-conversation-title-row layer-conversation-title {
      flex-grow: 1;
      width: 100px; /* Flexbox bug */
    }
    layer-conversation-item.layer-item-filtered .layer-list-item {
      display: none;
    }
    layer-conversation-item layer-presence, layer-conversation-item .layer-group-counter {
      display: none;
    }
    layer-conversation-item layer-avatar layer-presence {
      display: block;
    }

    layer-conversation-item.layer-size-tiny.layer-group-conversation .layer-group-counter {
      display: block;
    }

    layer-conversation-item.layer-size-tiny.layer-direct-message-conversation layer-presence {
      display: block;
    }
    layer-conversation-item.layer-size-tiny layer-avatar {
      display: none;
    }
  </style>
  <div class='layer-list-item' layer-id='innerNode'>
    <div class='layer-conversation-left-side' layer-id='conversationRowLeftSide' layer-has-replaceable='true'>
      <div class='layer-replaceable-content'></div>
    </div>

    <div class='layer-conversation-item-content'>
      <div class='layer-conversation-title-row'>
        <layer-conversation-title layer-id='title'></layer-conversation-title>
        <layer-date layer-id='date'></layer-date>
      </div>
      <layer-conversation-last-message layer-id='lastMessage'></layer-conversation-last-message>
    </div>

    <div class='layer-conversation-right-side' layer-id='conversationRowRightSide' layer-has-replaceable='true'>
      <div class='layer-replaceable-content'></div>
    </div>
  </div>
</template>
<script>
  window.layerUI.registerTemplate('layer-conversation-item');
</script>